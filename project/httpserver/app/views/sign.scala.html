@()

@template(1){
<div class="container-fluid">
	<div class="row">
		<div class="container" data-spy="scroll" data-target="#sidebar-nav">


<div class="col-lg-12">

		<div class="col-lg-6">
		
		<div class="panel panel-info">
			<div class="panel-heading" data-toggle="collapse"
				data-target="#collapse3">
				<h4 class="panel-title">Login</h4>
			</div>
			<div id="collapse3" class="panel-collapse collapse in">
				<div class="panel panel-default container-full">
					<form class="form-horizontal" id="signup-form" method="POST" enctype="multipart/form-data">
						
						<div class="form-group">
							<label class="control-label">Email:</label> 
							<input class="form-control" name="email" value="" placeholder="Email" type="text">
						</div>		
						<div class="form-group">
							<label class="control-label">Password:</label> 
							<input class="form-control" name="password" value="" placeholder="Password" type="password">
						</div>			
						<div class="form-group">
							<button type="submit" class="btn btn-success">Login</button>
						</div>
					</form>				
				
				
				
				</div>
			</div>
		</div>
		
		
		
			
		</div>
	</div>


	
			<h3>Register</h3>
			<form id="register-form">
				Email:<input type="text" name="email" /> <br> Name:<input
					type="text" name="name" /> <br> Password:<input
					type="password" name="password" /><br> Confirm Password:<input
					type="password" name="password2" /><br> Photo:<input
					type="file" name="photo" /> <br> <input type="submit" />
			</form>
		</div>
	</div>
</div>

<script>
		$( document ).ready(function() {
			$( "#login-form" ).submit(function( event ) {
				var email = this.elements["email"].value;
				var password = this.elements["password"].value;
				var success = function(){
					document.location = "/";
				} 
				var error = function(){
					alert("fail");
				} 
				Signaling.login(email,password,success,error);
				event.preventDefault();
			});
			
			$( "#register-form" ).submit(function( event ) {					
				//grab all form data  
				var success = function(){
					alert("success");
				} 
				var error = function(){
					alert("fail");
				} 

				
				
				var email = this.elements["email"].value;
				var password1 = this.elements["password"].value;
				var password2 = this.elements["password2"].value;
				var photo = this.elements["photo"].files[0];
				var name = this.elements["name"].value;
				var formData = new FormData();
				formData.append("name",name);
				formData.append("photo",photo);
				
				Signaling.register(email,password1,password2,formData,success,error);
				event.preventDefault();

			});
		});

		
	</script>
}